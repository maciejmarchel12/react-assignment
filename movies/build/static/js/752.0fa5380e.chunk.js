"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[752],{9752:(e,r,t)=>{t.r(r),t.d(r,{default:()=>b});var a=t(390),n=t(82),i=t(2066),l=t(2016),o=t(5477),s=t(6805),u=t(8369),d=t(3730),h=t(8091),c=t(5920),v=t(5545),m=t(2559);const x=[{value:5,label:"Excellent"},{value:4,label:"Good"},{value:3,label:"Average"},{value:2,label:"Poor"},{value:0,label:"Terrible"}],g={root:{marginTop:2,display:"flex",flexDirection:"column",alignItems:"left"},form:{width:"100%","& > * ":{marginTop:2}},textField:{width:"40ch"},submit:{marginRight:2},snack:{width:"50%","& > * ":{width:"100%"}}},b=e=>{let{movie:r}=e;const[t,b]=(0,a.useState)(3),[f,p]=(0,a.useState)(!1),w=(0,v.s0)(),j=(0,a.useContext)(d.m),Z=e=>{p(!1),w("/movies/favorites")},{control:C,formState:{errors:y},handleSubmit:k,reset:R}=(0,u.cI)({author:"",review:"",agree:!1,rating:"3"}),S=e=>{b(e.target.value)};return(0,m.jsxs)(s.Z,{component:"div",sx:g.root,children:[(0,m.jsx)(o.Z,{component:"h2",variant:"h3",children:"Write a review"}),(0,m.jsx)(h.Z,{sx:g.snack,anchorOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:Z,children:(0,m.jsx)(c.Z,{severity:"success",variant:"filled",onClose:Z,children:(0,m.jsx)(o.Z,{variant:"h4",children:"Thank you for submitting a review"})})}),(0,m.jsxs)("form",{sx:g.form,onSubmit:k((e=>{e.movieId=r.id,e.rating=t,j.addReview(r,e),p(!0)})),noValidate:!0,children:[(0,m.jsx)(u.Qr,{name:"author",control:C,rules:{required:"Name is required"},defaultValue:"",render:e=>{let{field:{onChange:r,value:t}}=e;return(0,m.jsx)(i.Z,{sx:{width:"40ch"},variant:"outlined",margin:"normal",required:!0,onChange:r,value:t,id:"author",label:"Author's name",name:"author",autoFocus:!0})}}),y.author&&(0,m.jsx)(o.Z,{variant:"h6",component:"p",children:y.author.message}),(0,m.jsx)(u.Qr,{name:"review",control:C,rules:{required:"Review cannot be empty.",minLength:{value:10,message:"Review is too short"}},defaultValue:"",render:e=>{let{field:{onChange:r,value:t}}=e;return(0,m.jsx)(i.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"review",value:t,onChange:r,label:"Review text",id:"review",multiline:!0,minRows:10})}}),y.review&&(0,m.jsx)(o.Z,{variant:"h6",component:"p",children:y.review.message}),(0,m.jsx)(u.Qr,{control:C,name:"rating",render:e=>{let{field:{onChange:r,value:a}}=e;return(0,m.jsx)(i.Z,{id:"select-rating",select:!0,variant:"outlined",label:"Rating Select",value:t,onChange:S,helperText:"Don't forget your rating",children:x.map((e=>(0,m.jsx)(l.Z,{value:e.value,children:e.label},e.value)))})}}),(0,m.jsxs)(s.Z,{sx:g.buttons,children:[(0,m.jsx)(n.Z,{type:"submit",variant:"contained",color:"primary",sx:g.submit,children:"Submit"}),(0,m.jsx)(n.Z,{type:"reset",variant:"contained",color:"secondary",sx:g.submit,onClick:()=>{R({author:"",content:""})},children:"Reset"})]})]})]})}}}]);
//# sourceMappingURL=752.0fa5380e.chunk.js.map