"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[30],{3855:(e,t,o)=>{o.d(t,{$K:()=>m,HI:()=>r,Hg:()=>d,JZ:()=>n,XT:()=>a,ev:()=>l,gb:()=>g,on:()=>h,tx:()=>i,uV:()=>c,vB:()=>s});const a=()=>fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&include_adult=false&include_video=false&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),r=e=>{console.log(e);const[,t]=e.queryKey,{id:o}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(o,"?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},n=async()=>fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=7c31daf1a981dec5e6082a488e5944d2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),s=e=>{let{queryKey:t}=e;const[,o]=t,{id:a}=o;return fetch("https://api.themoviedb.org/3/movie/".concat(a,"/images?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},i=e=>fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>e.json())).then((e=>e.results)),c=()=>fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),d=()=>fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),l=()=>fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),h=()=>fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),m=e=>{const[,t]=e.queryKey,{id:o}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(o,"/recommendations?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2","&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},g=e=>{const[,t]=e.queryKey,{id:o}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(o,"/similar?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))}},998:(e,t,o)=>{o.d(t,{Z:()=>n});o(390);var a=o(8201),r=o(2559);function n(){return(0,r.jsxs)("div",{sx:{display:"flex",justifyContent:"center","& > * + *":{marginLeft:"2em"}},children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)(a.Z,{})]})}},519:(e,t,o)=>{o.d(t,{Z:()=>R});var a=o(390),r=o(5557),n=o(2457),s=o(5478),i=o(6649),c=o(5477),d=o(7144),l=o(5545),h=o(2559);const m=e=>{const t=e.movie,o=(0,l.s0)();return(0,h.jsxs)(s.Z,{component:"div",sx:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",padding:1.5,margin:0},children:[(0,h.jsx)(i.Z,{"aria-label":"go back",onClick:()=>o(-1),children:(0,h.jsx)(r.Z,{color:"primary",fontSize:"large"})}),(0,h.jsxs)(c.Z,{variant:"h4",component:"h3",children:[t.title,(0,h.jsx)("a",{href:t.homepage,children:(0,h.jsx)(d.Z,{color:"primary"})}),(0,h.jsx)("br",{}),(0,h.jsxs)("span",{sx:{fontSize:"1.5rem"},children:['   "'.concat(t.tagline,'"')," "]})]}),(0,h.jsx)(i.Z,{"aria-label":"go forward",onClick:()=>o(1),children:(0,h.jsx)(n.Z,{color:"primary",fontSize:"large"})})]})};var g=o(5594),p=o(3366),v=o(7462),u=o(147),f=o(3370),j=o(8208),w=o(5573),x=o(1293),y=o(2254);function Z(e){return(0,y.Z)("MuiImageList",e)}(0,x.Z)("MuiImageList",["root","masonry","quilted","standard","woven"]);const k=a.createContext({}),b=["children","className","cols","component","rowHeight","gap","style","variant"],I=(0,j.ZP)("ul",{name:"MuiImageList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant]]}})((e=>{let{ownerState:t}=e;return(0,v.Z)({display:"grid",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"},"masonry"===t.variant&&{display:"block"})})),S=a.forwardRef((function(e,t){const o=(0,w.Z)({props:e,name:"MuiImageList"}),{children:r,className:n,cols:s=2,component:i="ul",rowHeight:c="auto",gap:d=4,style:l,variant:m="standard"}=o,g=(0,p.Z)(o,b),j=a.useMemo((()=>({rowHeight:c,gap:d,variant:m})),[c,d,m]);a.useEffect((()=>{0}),[]);const x="masonry"===m?(0,v.Z)({columnCount:s,columnGap:d},l):(0,v.Z)({gridTemplateColumns:"repeat(".concat(s,", 1fr)"),gap:d},l),y=(0,v.Z)({},o,{component:i,gap:d,rowHeight:c,variant:m}),S=(e=>{const{classes:t,variant:o}=e,a={root:["root",o]};return(0,u.Z)(a,Z,t)})(y);return(0,h.jsx)(I,(0,v.Z)({as:i,className:(0,f.Z)(S.root,S[m],n),ref:t,style:x,ownerState:y},g,{children:(0,h.jsx)(k.Provider,{value:j,children:r})}))}));o(557);var _=o(3201);function E(e){return(0,y.Z)("MuiImageListItem",e)}const C=(0,x.Z)("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),L=["children","className","cols","component","rows","style"],H=(0,j.ZP)("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{["& .".concat(C.img)]:t.img},t.root,t[o.variant]]}})((e=>{let{ownerState:t}=e;return(0,v.Z)({display:"block",position:"relative"},"standard"===t.variant&&{display:"flex",flexDirection:"column"},"woven"===t.variant&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{["& .".concat(C.img)]:(0,v.Z)({objectFit:"cover",width:"100%",height:"100%",display:"block"},"standard"===t.variant&&{height:"auto",flexGrow:1})})})),M=a.forwardRef((function(e,t){const o=(0,w.Z)({props:e,name:"MuiImageListItem"}),{children:r,className:n,cols:s=1,component:i="li",rows:c=1,style:d}=o,l=(0,p.Z)(o,L),{rowHeight:m="auto",gap:g,variant:j}=a.useContext(k);let x="auto";"woven"===j?x=void 0:"auto"!==m&&(x=m*c+g*(c-1));const y=(0,v.Z)({},o,{cols:s,component:i,gap:g,rowHeight:m,rows:c,variant:j}),Z=(e=>{const{classes:t,variant:o}=e,a={root:["root",o],img:["img"]};return(0,u.Z)(a,E,t)})(y);return(0,h.jsx)(H,(0,v.Z)({as:i,className:(0,f.Z)(Z.root,Z[j],n),ref:t,style:(0,v.Z)({height:x,gridColumnEnd:"masonry"!==j?"span ".concat(s):void 0,gridRowEnd:"masonry"!==j?"span ".concat(c):void 0,marginBottom:"masonry"===j?g:void 0,breakInside:"masonry"===j?"avoid":void 0},d),ownerState:y},l,{children:a.Children.map(r,(e=>a.isValidElement(e)?"img"===e.type||(0,_.Z)(e,["Image"])?a.cloneElement(e,{className:(0,f.Z)(Z.img,e.props.className)}):e:null))}))}));var N=o(3855),F=o(4514),P=o(998);const R=e=>{let{movie:t,children:o}=e;const{data:a,error:r,isLoading:n,isError:s}=(0,F.useQuery)(["images",{id:t.id}],N.vB);if(n)return(0,h.jsx)(P.Z,{});if(s)return(0,h.jsx)("h1",{children:r.message});const i=a.posters;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(m,{movie:t}),(0,h.jsxs)(g.ZP,{container:!0,spacing:5,sx:{padding:"15px"},children:[(0,h.jsx)(g.ZP,{item:!0,xs:3,children:(0,h.jsx)("div",{sx:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"},children:(0,h.jsx)(S,{cols:1,children:i.map((e=>(0,h.jsx)(M,{cols:1,children:(0,h.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(e.file_path),alt:e.poster_path})},e.file_path)))})})}),(0,h.jsx)(g.ZP,{item:!0,xs:9,children:o})]})]})}},30:(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var a=o(390),r=o(5545),n=o(519),s=o(3855),i=o(4514),c=o(998),d=o(2559);const l=(0,a.lazy)((()=>Promise.all([o.e(363),o.e(46)]).then(o.bind(o,3046)))),h=e=>{let{movieId:t}=e;"/movies/".concat(t,"/recommended")},m=e=>{let{movieId:t}=e;"/movies/".concat(t,"/similar")},g=e=>{const{id:t}=(0,r.UO)(),{data:o,error:g,isLoading:p,isError:v}=(0,i.useQuery)(["movie",{id:t}],s.HI);return p?(0,d.jsx)(c.Z,{}):v?(0,d.jsx)("h1",{children:g.message}):(0,d.jsx)(a.Suspense,{fallback:(0,d.jsx)(c.Z,{}),children:(0,d.jsx)(d.Fragment,{children:o?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.Z,{movie:o,children:(0,d.jsx)(l,{movie:o})}),(0,d.jsx)(h,{movieId:t}),(0,d.jsx)(m,{movieId:t})]}):(0,d.jsx)("p",{children:"Waiting for movie details"})})})}},7144:(e,t,o)=>{var a=o(4836);t.Z=void 0;var r=a(o(6830)),n=o(2559),s=(0,r.default)((0,n.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.Z=s}}]);
//# sourceMappingURL=30.0afb468a.chunk.js.map