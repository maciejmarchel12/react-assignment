{"version":3,"file":"static/js/964.268a3314.chunk.js","mappings":"sMAwCA,QAjCA,WACE,MAAOA,EAAMC,EAASC,IAASC,EAAAA,EAAAA,IAAaC,EAAAA,KACrCC,EAAMC,IAAWC,EAAAA,EAAAA,UAAS,IAC3BC,GAAWC,EAAAA,EAAAA,MAiBjB,OALAC,EAAAA,EAAAA,YAAU,KACR,IAAIT,EACJ,OAAKD,MAbeW,WACpB,IACE,MAAMC,GAAIC,EAAAA,EAAAA,KAAMC,EAAAA,EAAAA,IAAWC,EAAAA,GAAI,UAAUC,EAAAA,EAAAA,IAAM,MAAO,KAAU,OAAJhB,QAAI,IAAJA,OAAI,EAAJA,EAAMiB,MAE5DC,SADYC,EAAAA,EAAAA,IAAQP,IACTQ,KAAK,GAAGF,OACzBZ,EAAQY,EAAKb,KACf,CAAE,MAAOgB,GACPC,QAAQpB,MAAMmB,GACdE,MAAM,4CACR,GAKAC,GADkBhB,EAAS,IACZ,GACd,CAACR,EAAMC,KAERwB,EAAAA,EAAAA,KAAA,OAAKC,UAAU,YAAWC,UACvBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,uBAAsBC,SAAA,CAAC,gBAEpCF,EAAAA,EAAAA,KAAA,OAAAE,SAAMtB,KACNoB,EAAAA,EAAAA,KAAA,OAAAE,SAAU,OAAJ3B,QAAI,IAAJA,OAAI,EAAJA,EAAM6B,SACZJ,EAAAA,EAAAA,KAAA,UAAQC,UAAU,iBAAiBI,QAASC,EAAAA,GAAOJ,SAAC,eAM7D,C","sources":["components/firebase/dashboard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"../../css/dashboard.css\"\r\nimport { auth, db, logout } from \"../../firebase\";\r\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\r\n\r\nfunction Dashboard() {\r\n  const [user, loading, error] = useAuthState(auth);\r\n  const [name, setName] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const fetchUserName = async () => {\r\n    try {\r\n      const q = query(collection(db, \"users\"), where(\"uid\", \"==\", user?.uid));\r\n      const doc = await getDocs(q);\r\n      const data = doc.docs[0].data();\r\n      setName(data.name);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"An error occured while fetching user data\");\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    if (loading) return;\r\n    if (!user) return navigate(\"/\");\r\n    fetchUserName();\r\n  }, [user, loading]);\r\n  return (\r\n    <div className=\"dashboard\">\r\n       <div className=\"dashboard__container\">\r\n        Logged in as\r\n         <div>{name}</div>\r\n         <div>{user?.email}</div>\r\n         <button className=\"dashboard__btn\" onClick={logout}>\r\n          Logout\r\n         </button>\r\n       </div>\r\n     </div>\r\n  );\r\n}\r\nexport default Dashboard;"],"names":["user","loading","error","useAuthState","auth","name","setName","useState","navigate","useNavigate","useEffect","async","q","query","collection","db","where","uid","data","getDocs","docs","err","console","alert","fetchUserName","_jsx","className","children","_jsxs","email","onClick","logout"],"sourceRoot":""}