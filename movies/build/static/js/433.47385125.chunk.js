"use strict";(self.webpackChunkmovies=self.webpackChunkmovies||[]).push([[433],{3855:(e,t,a)=>{a.d(t,{$K:()=>m,HI:()=>n,Hg:()=>l,JZ:()=>s,XT:()=>r,ev:()=>d,gb:()=>p,on:()=>h,tx:()=>i,uV:()=>c,vB:()=>o});const r=()=>fetch("https://api.themoviedb.org/3/discover/movie?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&include_adult=false&include_video=false&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),n=e=>{console.log(e);const[,t]=e.queryKey,{id:a}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(a,"?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},s=async()=>fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=7c31daf1a981dec5e6082a488e5944d2&language=en-US").then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),o=e=>{let{queryKey:t}=e;const[,a]=t,{id:r}=a;return fetch("https://api.themoviedb.org/3/movie/".concat(r,"/images?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},i=e=>fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>e.json())).then((e=>e.results)),c=()=>fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e})),l=()=>fetch("https://api.themoviedb.org/3/movie/popular?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),d=()=>fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),h=()=>fetch("https://api.themoviedb.org/3/movie/top_rated?api_key=".concat("7c31daf1a981dec5e6082a488e5944d2","&language=en-US&page=1")).then((e=>e.ok?e.json():e.json().then((e=>{throw new Error(e.message||"Failed to fetch latest movies")})))).catch((e=>{throw e})),m=e=>{const[,t]=e.queryKey,{id:a}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(a,"/recommendations?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2","&page=1")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))},p=e=>{const[,t]=e.queryKey,{id:a}=t;return fetch("https://api.themoviedb.org/3/movie/".concat(a,"/similar?api_key=").concat("7c31daf1a981dec5e6082a488e5944d2")).then((e=>{if(!e.ok)throw new Error(e.json().message);return e.json()})).catch((e=>{throw e}))}},998:(e,t,a)=>{a.d(t,{Z:()=>s});a(390);var r=a(8201),n=a(2559);function s(){return(0,n.jsxs)("div",{sx:{display:"flex",justifyContent:"center","& > * + *":{marginLeft:"2em"}},children:[(0,n.jsx)(r.Z,{}),(0,n.jsx)(r.Z,{})]})}},4829:(e,t,a)=>{a.d(t,{Z:()=>H});var r=a(390),n=a(5557),s=a(2457),o=a(5478),i=a(6649),c=a(5477),l=a(5545),d=a(2559);const h=e=>{const t=e.title,a=(0,l.s0)();return(0,d.jsxs)(o.Z,{component:"div",sx:{display:"flex",justifyContent:"space-around",flexWrap:"wrap",marginBottom:1.5},children:[(0,d.jsx)(i.Z,{"aria-label":"go back",onClick:()=>a(-1),children:(0,d.jsx)(n.Z,{color:"primary",fontSize:"large"})}),(0,d.jsx)(c.Z,{variant:"h4",component:"h3",children:t}),(0,d.jsx)(i.Z,{"aria-label":"go forward",onClick:()=>a(1),children:(0,d.jsx)(s.Z,{color:"primary",fontSize:"large"})})]})};var m=a(6356),p=a(8965),u=a(2818),g=a(4602),x=a(2016),v=a(2066),j=a(3752),f=a(7554),Z=a(2561);const y=a.p+"static/media/pexels-dziana-hasanbekava-5480827.6123c500508cea5447e7.jpg";var b=a(3855),w=a(4514),k=a(998);const _={margin:1,minWidth:220,backgroundColor:"rgb(255, 255, 255)"},S=[{value:"popularity.desc",label:"Popularity Desc"},{value:"popularity.asc",label:"Popularity Asc"},{value:"release_date.desc",label:"Release Date Desc"},{value:"release_date.asc",label:"Release Date Asc"}];function C(e){const{data:t,error:a,isLoading:r,isError:n}=(0,w.useQuery)("genres",b.JZ);if(r)return(0,d.jsx)(k.Z,{});if(n)return(0,d.jsx)("h1",{children:a.message});const s=t.genres;"All"!==s[0].name&&s.unshift({id:"0",name:"All"});const o=(t,a,r)=>{t.preventDefault(),e.onUserInput(a,r)};return(0,d.jsxs)(m.Z,{sx:{maxWidth:345,backgroundColor:"lightslategrey"},variant:"outlined",children:[(0,d.jsxs)(u.Z,{children:[(0,d.jsxs)(c.Z,{variant:"h5",component:"h1",children:[(0,d.jsx)(j.Z,{fontSize:"large"}),"Filter the movies."]}),(0,d.jsx)(v.Z,{sx:{..._},id:"filled-search",label:"Search field",type:"search",variant:"filled",value:e.titleFilter,onChange:(e,t)=>{o(e,"name",e.target.value)}}),(0,d.jsxs)(f.Z,{sx:{..._},children:[(0,d.jsx)(g.Z,{id:"genre-label",children:"Genre"}),(0,d.jsx)(Z.Z,{labelId:"genre-label",id:"genre-select",defaultValue:"",value:e.genreFilter,onChange:e=>{o(e,"genre",e.target.value)},children:s.map((e=>(0,d.jsx)(x.Z,{value:e.id,children:e.name},e.id)))})]}),(0,d.jsxs)(f.Z,{sx:{..._},children:[(0,d.jsx)(g.Z,{id:"sort-label",children:"Sort By"}),(0,d.jsx)(Z.Z,{labelId:"sort-label",id:"sort-select",defaultValue:"",onChange:e=>{o(e,"sort",e.target.value)},children:S.map((e=>(0,d.jsx)(x.Z,{value:e.value,children:e.label},e.value)))})]})]}),(0,d.jsx)(p.Z,{sx:{height:300},image:y,title:"Filter"}),(0,d.jsx)(u.Z,{children:(0,d.jsxs)(c.Z,{variant:"h5",component:"h1",children:[(0,d.jsx)(j.Z,{fontSize:"large"}),"Filter the movies.",(0,d.jsx)("br",{})]})})]})}var F=a(9284),E=a(6192),z=a(82),P=a(2340),D=a(7686),U=a(497),W=a(5594);const I=a.p+"static/media/film-poster-placeholder.9a8182eb4c8ae70fe602.png";var q=a(5400),K=a(720),L=a(3730);function A(e){let{movie:t,action:a}=e;const{favorites:n,addToFavorites:s,mustWatch:o,addToMustWatch:i}=(0,r.useContext)(L.m);n.find((e=>e===t.id))?t.favorite=!0:t.favorite=!1;o.find((e=>e===t.id))?t.mustWatch=!0:t.mustWatch=!1;return(0,d.jsxs)(m.Z,{sx:{maxWidth:345,backgroundColor:"beige"},children:[(0,d.jsx)(E.Z,{avatar:t.favorite?(0,d.jsx)(K.Z,{sx:{backgroundColor:"red"},children:(0,d.jsx)(P.Z,{})}):null,title:(0,d.jsxs)(c.Z,{variant:"h6",component:"p",children:[t.title," "]})}),(0,d.jsx)(p.Z,{sx:{height:500},image:t.poster_path?"https://image.tmdb.org/t/p/w500/".concat(t.poster_path):I}),(0,d.jsx)(u.Z,{children:(0,d.jsxs)(W.ZP,{container:!0,children:[(0,d.jsx)(W.ZP,{item:!0,xs:6,children:(0,d.jsxs)(c.Z,{variant:"h6",component:"p",children:[(0,d.jsx)(D.Z,{fontSize:"small"}),t.release_date]})}),(0,d.jsx)(W.ZP,{item:!0,xs:6,children:(0,d.jsxs)(c.Z,{variant:"h6",component:"p",children:[(0,d.jsx)(U.Z,{fontSize:"small"}),"  "," ",t.vote_average," "]})})]})}),(0,d.jsxs)(F.Z,{disableSpacing:!0,children:[a(t),(0,d.jsx)(q.rU,{to:"/movies/".concat(t.id),children:(0,d.jsx)(z.Z,{variant:"outlined",size:"medium",color:"primary",children:"More Info ..."})})]})]})}const B=e=>{let{movies:t,action:a}=e;return t.map((e=>(0,d.jsx)(W.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,d.jsx)(A,{movie:e,action:a},e.id)},e.id)))};const H=function(e){let{movies:t,title:a,action:n}=e;const[s,o]=(0,r.useState)(""),[i,c]=(0,r.useState)("0"),[l,m]=(0,r.useState)(""),p=Number(i);function u(e,t){return parseFloat(e.popularity)-parseFloat(t.popularity)}let g=t.filter((e=>-1!==e.title.toLowerCase().search(s.toLowerCase()))).filter((e=>!(p>0)||e.genre_ids.includes(p)));return"popularity.desc"===l?g=g.sort(u).reverse():"popularity.asc"===l?g=g.sort(u):"release_date.desc"===l?g=g.sort(((e,t)=>new Date(t.release_date)-new Date(e.release_date))):"release_date.asc"===l&&(g=g.sort(((e,t)=>new Date(e.release_date)-new Date(t.release_date)))),(0,d.jsxs)(W.ZP,{container:!0,sx:{padding:"20px",backgroundColor:"lightgrey"},children:[(0,d.jsx)(W.ZP,{item:!0,xs:12,children:(0,d.jsx)(h,{title:a})}),(0,d.jsxs)(W.ZP,{item:!0,container:!0,spacing:5,children:[(0,d.jsx)(W.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:(0,d.jsx)(C,{onUserInput:(e,t)=>{"name"===e?o(t):"genre"===e?c(t):"sort"===e&&m(t)},titleFilter:s,genreFilter:i})},"find"),(0,d.jsx)(B,{action:n,movies:g})]})]})}},6369:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var r=a(390),n=a(4829),s=a(3730),o=a(4514),i=a(3855),c=a(998),l=a(2559);const d=(0,r.lazy)((()=>a.e(11).then(a.bind(a,1011)))),h=(0,r.lazy)((()=>a.e(305).then(a.bind(a,2305)))),m=()=>{const{favorites:e}=(0,r.useContext)(s.m),t=(0,o.useQueries)(e.map((e=>({queryKey:["movie",{id:e}],queryFn:i.HI}))));if(t.find((e=>!0===e.isLoading)))return(0,l.jsx)(c.Z,{});const a=t.map((e=>(e.data.genre_ids=e.data.genres.map((e=>e.id)),e.data)));return(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(c.Z,{}),children:(0,l.jsx)(n.Z,{title:"Favorite Movies",movies:a,action:e=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{movie:e}),(0,l.jsx)(h,{movie:e})]})})})}}}]);
//# sourceMappingURL=433.47385125.chunk.js.map